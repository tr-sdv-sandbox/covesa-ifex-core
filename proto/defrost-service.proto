// protobuf code generated by AST_protobuf.tpl
syntax = "proto3";



package swdv.defrost_service;

// Generic result message
message operation_result {
  bool result = 1;
}

// IFEX Namespace defrost
// IFEX Enum defrost_mode_t
enum defrost_mode_t {
    OFF = 0;
    WINDSHIELD_ONLY = 1;
    ALL_WINDOWS = 2;
    QUICK_CLEAR = 3;
}

// IFEX Enum surface_t
enum surface_t {
    FRONT_WINDSHIELD = 0;
    REAR_WINDOW = 1;
    SIDE_MIRRORS = 2;
    SIDE_WINDOWS = 3;
}

// IFEX Enum visibility_status_t
enum visibility_status_t {
    CLEAR = 0;
    LIGHT_FOG = 1;
    HEAVY_FOG = 2;
    FROST = 3;
    ICE = 4;
}

// IFEX Struct defrost_request_t
message defrost_request_t {
  defrost_mode_t mode = 1;
  uint32 max_duration_minutes = 2;
  bool auto_stop_when_clear = 3;
}

// IFEX Struct surface_status_t
message surface_status_t {
  surface_t surface = 1;
  visibility_status_t visibility = 2;
  bool heater_active = 3;
  float temperature_celsius = 4;
}

// IFEX Method start_defrost
message start_defrost_request {
  defrost_request_t request = 1;
}

message start_defrost_response {
  string operation_id = 1;
  bool accepted = 2;
  uint32 estimated_clear_time_seconds = 3;
}

service start_defrost_service {
  rpc start_defrost(start_defrost_request) returns (start_defrost_response);
}

// IFEX Method stop_defrost
message stop_defrost_request {
  string operation_id = 1;
}

message stop_defrost_response {
  bool success = 1;
}

service stop_defrost_service {
  rpc stop_defrost(stop_defrost_request) returns (stop_defrost_response);
}

// IFEX Method get_visibility_status
message get_visibility_status_request {
}

message get_visibility_status_response {
  repeated surface_status_t surfaces = 1;
  bool overall_visibility_safe = 2;
}

service get_visibility_status_service {
  rpc get_visibility_status(get_visibility_status_request) returns (get_visibility_status_response);
}

// IFEX Method quick_clear_windshield
message quick_clear_windshield_request {
}

message quick_clear_windshield_response {
  bool activated = 1;
  uint32 estimated_clear_seconds = 2;
}

service quick_clear_windshield_service {
  rpc quick_clear_windshield(quick_clear_windshield_request) returns (quick_clear_windshield_response);
}





