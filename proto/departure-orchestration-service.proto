// protobuf code generated by AST_protobuf.tpl
syntax = "proto3";



package swdv.departure_orchestration_service;

// Generic result message
message operation_result {
  bool result = 1;
}

// IFEX Namespace departure
// IFEX Enum preparation_step_type_t
enum preparation_step_type_t {
    CLIMATE_START = 0;
    DEFROST_START = 1;
    SEAT_HEATING_START = 2;
    BEVERAGE_START = 3;
    BATTERY_PRECONDITIONING = 4;
    ROUTE_CALCULATION = 5;
}

// IFEX Enum schedule_status_t
enum schedule_status_t {
    SCHEDULED = 0;
    PREPARING = 1;
    READY = 2;
    COMPLETED = 3;
    CANCELLED = 4;
    ERROR = 5;
}

// IFEX Struct comfort_preferences_t
message comfort_preferences_t {
  float cabin_temperature_celsius = 1;
  int32 seat_temperature_level = 2;
  bool steering_wheel_heating = 3;
}

// IFEX Struct beverage_request_t
message beverage_request_t {
  bool prepare_beverage = 1;
  string beverage_type = 2;
  uint32 strength = 3;
}

// IFEX Struct departure_schedule_t
message departure_schedule_t {
  int64 departure_time = 1;
  comfort_preferences_t comfort_prefs = 2;
  beverage_request_t beverage_request = 3;
  bool auto_defrost = 4;
  bool precondition_battery = 5;
  string calculate_route_to = 6;
}

// IFEX Struct preparation_step_t
message preparation_step_t {
  preparation_step_type_t step_type = 1;
  int64 scheduled_start_time = 2;
  uint32 duration_seconds = 3;
  string description = 4;
}

// IFEX Struct schedule_status_info_t
message schedule_status_info_t {
  string schedule_id = 1;
  schedule_status_t status = 2;
  int64 departure_time = 3;
  int64 preparation_start_time = 4;
  string current_step = 5;
  uint32 completion_percent = 6;
}

// IFEX Method schedule_departure
message schedule_departure_request {
  departure_schedule_t schedule = 1;
}

message schedule_departure_response {
  string schedule_id = 1;
  bool accepted = 2;
  repeated preparation_step_t preparation_timeline = 3;
}

service schedule_departure_service {
  rpc schedule_departure(schedule_departure_request) returns (schedule_departure_response);
}

// IFEX Method get_schedule_status
message get_schedule_status_request {
  string schedule_id = 1;
}

message get_schedule_status_response {
  schedule_status_info_t status_info = 1;
  repeated preparation_step_t active_steps = 2;
}

service get_schedule_status_service {
  rpc get_schedule_status(get_schedule_status_request) returns (get_schedule_status_response);
}

// IFEX Method cancel_schedule
message cancel_schedule_request {
  string schedule_id = 1;
}

message cancel_schedule_response {
  bool success = 1;
  repeated string systems_to_shutdown = 2;
}

service cancel_schedule_service {
  rpc cancel_schedule(cancel_schedule_request) returns (cancel_schedule_response);
}

// IFEX Method modify_schedule
message modify_schedule_request {
  string schedule_id = 1;
  int64 new_departure_time = 2;
  comfort_preferences_t new_comfort_prefs = 3;
}

message modify_schedule_response {
  bool success = 1;
  repeated preparation_step_t updated_timeline = 2;
}

service modify_schedule_service {
  rpc modify_schedule(modify_schedule_request) returns (modify_schedule_response);
}

// IFEX Method get_active_schedules
message get_active_schedules_request {
}

message get_active_schedules_response {
  repeated schedule_status_info_t schedules = 1;
}

service get_active_schedules_service {
  rpc get_active_schedules(get_active_schedules_request) returns (get_active_schedules_response);
}





